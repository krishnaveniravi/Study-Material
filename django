prerequisite:
Python syntax
function,arguments/parameters
modules==>group of functions,classes,variables

website.py

def connect():
  print("connecting")
def disconnect():
  print("disconnecting")
def welcome():
  print("Hi")


import website
website.disconnect()

from website import connect
connect()

from website import *
disconnect()
welcome()

import website as w
w.welcome()
#############################
group==>group of modules
it is like a folder but have __init__.py--->script file    
#############################

django----->Web framework  ==>for large applications

free
opensource

webapplication-->page of website
Design pattern:
MVC
Model  View  Controller

django follows MVT pattern
Model  View  Templates

platformio-ide-terminal

django atom

###########
project-->applications +configurations file

application:
book
audio
video

django-admin
go to terminal and go to djangoproject folder

django-admin startproject firstproject(project name) --> enter

>>>mkdir djangoprojects
>>>cd djangoprojects
>>>django-admin startproject first_project 
  
this folder has 2 directories and 6files

__init__.py:
Blank python script.
Django will consider the particular folder as python package.
====================
setting.py:
Project settings,Configurations,installed applications,database configurations,middleware configurations.
====================
03/01/26

urls.py: Uniform Resource Locator
url -patterns will be stored in this file
website-->webpages
for eg:news
/madurai
/chennai
===================
wsgi.py:Web Server Gateway Interface
This file is used when we deploy the application in production server.
=
DEV Environment-->developer environment
UAT-User Acceptance Test  Environment
then move to last level PROD Environment
==================
asgi.py:Asynchronous  
eg:cricket score display for more than one match at the same time
=================
manage.py:
running our server,running tests,creating migrations

>>>python manage.py runserver

webserver:
http://127.0.0.1:8000/

127.0.0.1-->IP address of laptop -localhost
8000--->django webserver's port number

eg:
power supply:
switch board

after this it will create the db.sqlite3 

webserver:
providing environment to run the webapplication.
server-->provide the service ===>HTTP request---" webcomponents"-->HTTP response

we have to create weebcomponents for our project

webserver ready
djangoproject--firstproject

webapplication creation:
go to firstproject location in commandline
>>> python manage.py startapp firstApp
firstApp folder created

firstApp folder created===>with in this ,first application specific files
__init__.py:
admin.py:
admin interface-django models
apps.py:
models.py:
application data models
tests.py:
testing functions

views.py:
it gives the specific view for the request we given
--->URL
1.Function based views
2.Class based views


migrations.py:
db specific information

project-->many application

step1::
goto-->firstproject folder-->settings.py--->installed apps-->add our app name "firstApp"
step2::
goto-->views.py-->add the view(function)
from django.http import HttpResponse
step3::
Add the view to the url pattern in urls.py

successfully completed!
checking for the different types of errors

first application creation in short:::
====================================
1.creation of djangoproject:
django-admin startproject projectname
2.creation of django application:
python manage.py startapp appname
3.running the server 
python manage.py runserver
-->ip address will display
4.adding application to my project:
settings.py-->Installed_apps-->add app name
5.add the views in views.py(business app):
def wish():
6.add the views in url pattern:
urls.py-->url pattern-->add views("welcome/",views.wish)
7.server
python manage.py runserver 8080(we can change port number)

many application :
urls-->copy to app folder and then add
from django.conf.urls import url,inlcude
path('testapp/',include('testapp.urls'))
#####################################
04/01/26
DJango - static folder(css, image) in Template:

model
view-->business logic
template-->presentation layer(user ku present panradhu)
how to add image in this presentation?
presentation should be in style.
style--->CSS casecading Style Sheet

shall we include images/videos/audio in presentation?
yes we can,these are called static files.

django template:
views.py -html
-code readability
-no proper seperation
-code reusability

2.26-2.51 time from playlist of 9hrs::
don't write sperarte view file for each app
write the code in different place.
html file--template-->do rendering
======================
print(__file__) #print the filename

import os
print(os.path.abspath(__file__)) #returns the fullpath(absolute path) c:\Users\matha\vscode\one.py

print(os.path.dirname(os.path.abspath(__file__)))  #returns the directory location c:\Users\matha\vscode


1:::creation of templates:
goto djangoprojects
create new templateproject(templatedemo)
create new app(demoapp)
goto templateproject folder 
add new folder for templates
goto templates folder create new folder for demoapp

2::application oda html file demoapp la dhan iruku nu project ku theriyanum.
so go to settings file -->templates-->template direction 
import os
# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent
BASE_DIR2=os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
TEMPLATE_DIR=os.path.join(BASE_DIR2,'tamplates')
add this TEMPLATE_DIR in TEMPLATES

3::Write HTML code and add it into demoapp in templates folder
<html>
<head>
<title> It is my first template </title>
</head>
<body>
<h1> Seprate HTML File is template </h1>
</body>
</html>

4::Go to views file in app folder(demoapp):
we need to tell the html file to render

def display(request):
  return render(request,'demoapp/abc.html')

5::urls 
add the views
======================
05/01/26

static folder creation:

static folder-->images-->one image
tell the directory of static folder to the settings.py
update the staticfile in setting

Template tags:
Template tags should be given in dictionary format to html file

create css in static folder
write the code and update in html file
=======================================
DB----MODEL:::
=======modeldemo folder======
model.py
database related content -->model
  Each model is a python class which is subclass of django.db.models.Model
  Each model maps to a single database table.(table contains fields(name,id,salary,etc column)
  Each attribute of the model represent a database field(column).


how to connect DB with django:
model -----------view-----------template
db------------views.py---------template
create new folder modeldemo:
create app (dbApp)
update models.py 
>>>python manage.py makemigrations   ####sql query creation (ready for creating db table for the model)####
if we have many apps then give name of the app
>>>python manage.py makemigrations dbApp
>>>python manage.py migrate ####sql query excecution (table created)##it initialize the all including admin,authentication,and our app
>>>python manage.py sqlmigrate appname with number(dbApp 0001)

We need to tell the created table to admin(story of building contractor as admin )
goto admin file
>>>from dbApp.models import employee
>>>admin.site.register(employee)

create superuser for login to website
>>> python manage.py createsuperuser
>>> python manage.py runserver

6/1/26
create templates and static folder
inform them(directory) to settings.


update in views-->import model and class  and render the request
>>>Employee.objects.all()
send the views dictionary data to html

create html code in template---dbApp
<html>
{% load static %}
<head>
<title> DB model learning </title>

</head>
<body>
    {% if emp_list %}   ##this is jinja refer website
    <table>
    {% for employee in emp_list %}
    <tr>

    <td>{{employee.empNo}}</td>
    <td>{{employee.empName}}</td>
    <td>{{employee.empSalary}}</td>
    <td>{{employee.empAddress}}</td>
        </tr>

    {% endfor %}
    {% endif %}
    </table>
    
</body>
</html>

add that views in url
======================================================

forms--->log in page 
django gives the security.
This is done using forms

create project (formsdemo)
create app (formApp)
create static,templates folder
update the settings.py

goto app-->create new forms.py file

form --html code
<html>
    {% load static %}
    <head>
        <title></title>
    </head>
<body>
<div>
    <form method = 'post'>
        {{form.as_p}} 
        {% csrf_token %}                 #####csrf if  this line given then there is no forbidden message
    <input type='submit'    value='Accept/Submit'>
    </form>
    </div>

</body>
</html>
===================================
developers.mozilla.org
django

session management:

          browsing
client -------------------server

http       ------stateless protocol

cookies
session

asusal create the project,app,templates,static 
go to views,
add method for cookies,
here cookies are stored in our system(client system).
we want two things,
1.cookies
2.count of cookies
access these cookeis count as key value pair in dictionary

1.cookies--no security
2.cookie-- less information,only string value
3.cookies--count of cookies

            request
client   ----------------------->server
         <---response +cookies---

sessionid::
to overcomethese above problems django provides the session ID
It stores the data on server side.

            request
client   ----------------------->server
         <---response +sessionid---

update the views.py::::

def cookies_count_view(request):
    count = request.session.get('count',0)
    total_count=int(count)+1
    request.session['count']=total_count
    return render(request,'cookiesApp/cookiescount.html',{'count':total_count})

makemigrations
migrate
======================
7/1/26
CRUD operations:
Create   ----------data insert
Retrieve  ---------select * from tablename
Update ------------update the data
Delete-------------delete data

this CRUD done on following ,
function based views
class based views

models.Model
makemigrations

form

fields---variable
behaviours---method/function

in this we can do the two things:
model
modelform

update settings.py
update models.py with parent class(models.Model)
update admin.py and register the childclass
create superuser
runserver

facker module;;;; create copy of manage.py and rename it and add this below code init,
import os
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'crudDemo.settings')

import django
django.setup()

from crudApp.models import *
from faker import Faker
from random import *
faker = Faker()

def generate(n):
    for i in range(n):
        fsno = randint(1,10001)
        fsname = faker.name()
        fsclass = randint(1,10)
        fsaddress = faker.city()
        stud_record = Student.objects.get_or_create(sno=fsno, sname=fsname, sclass=fsclass, saddress=fsaddress)
generate(10)
-----------------------
How to display the data that we have created?
views.py   ##function based view
--data from model
html
url

create 2 html file in templates crudApp
1.base.html
2.index.html

after this we can add button for add new student.

goto app  and create forms.py

data--information
meta data--data about data
#eg. mail---sender/ip/time/network provider/browser

update the forms app
use the childclass classname(forms.Modelform)
        class Meta:
            model = Student
            field = "__all__"

goto templates app ---new html file for forms
update the form and add submit button

goto views and update the forms info
and add POST for updating the info in DB

goto url update the views

=================
CRUD Operation:
1) Creating project
django-admin startproject crudDemo

2) cd crudDemo

3) application creation:
python manage.py startapp crudApp

4) project level-create templates folder-sub folder-curdApp-base.html,index.html

5)settings.py --update

6)model for db connect
update in models.py (inheritance)

class Student(models.Model):
  sno=models.Interger
  ....

>>>python manage.py makemigrations
>>>python manage.py migrate

7)register this model in admin.py
from crudApp.models import Student

class StudentAdmin(admin,ModelAdmin):
  list=['sno',..]

admin.site.register(Student,StudentAdmin)

create superuser
runserver

generateid.py
pip install faker

to update the details by default.

8)to display the data that we have created goto views and update
import student details from models --create function--render

from crudApp.models import Student

def retrieve_view(request):
  student = Student.objects.all()
  return render(request,"crudApp/index.html",{"student":student}

9)go to templates--app--create two html file and render it
base.html:
<html>
<head></head>
<body>
{%block content %}
{% endblock %}
</body>
</html>

index.html:
<html>
{% extends crudApp/base.html %}
{%block content %}


10)update the url with views

11)to add and save the student --create forms
import the student details from models

12 update the forms with class and class Meta
from django import forms
from crudAPP.models import Student
class StudentForm(forms.ModelForm):
  class Meta:   #Meta =data about data
    model = Student
    field = "__all__

13)goto templates app ---new html file for forms
update the form and add submit button ,csrf included

14)goto views and update the forms info
and add POST for updating the info in DB

15)goto url update the views

####
update and delete button added to create HTML page

add views fun for delete with specific id

add views fun for update (combo of delete and create fun)
note: for post form need to tell the instance=student name  important

create separate HTML file with form method =POST
<html>
    {% extends 'crudApp/base.html' %}
    {% block content %}
        <h1> Update Student Details </h1>
        <form method ='POST'>
        Student Roll No. <input type="text" name ="sno" value ="{{student.sno}}">
        Student Name <input type="text" name ="sname" value ="{{student.sname}}">
        Student Class <input type="text" name ="sclass" value ="{{student.sclass}}">
        Student Address <input type="text" name ="saddress" value ="{{student.saddress}}">

            {% csrf_token %}
   
            <input type="submit" value = "Update Student">

        </form>
   
        {% endblock %}
</html>

then update the url and run the server
==============================
class based views:
same procedure for project creation ,app creation

goto views.py:

from django.shortcuts import render
from django.views.generic import View
from django.http import HttpResponse

class FirstView(View):
  def get(self,request):
    return HttpResponse('<h1> Hi Hello Everyone! </h1>')

goto urls.py:
from appname import views
urlpatterns=[.....
            path("check/" , views.FirstView.as_view()) #####views.classname.as_view() this can take the class as function.

=========
templateview

from django.shortcuts import render
from django.views.generic import View, TemplateView
from django.http import HttpResponse

class FirstView(View):
  def get(self,request):
    return HttpResponse('<h1> Hi Hello Everyone! </h1>')

class SecondView(TemplateView):
    template_name = 'appname/sample.html'

goto urls.py:
from appname import views
urlpatterns=[.....
            path("check/" , views.FirstView.as_view()) #####views.classname.as_view() this can take the class as function.
            path("check2/" , views.SecondView.as_view())



